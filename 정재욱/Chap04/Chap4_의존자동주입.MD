## Chapter4 ì˜ì¡´ ìë™ ì£¼ì…
### @Autowired ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì˜ì¡´ ìë™ ì£¼ì…
- ìë™ ì£¼ì… ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ì´ ì•Œì•„ì„œ ì˜ì¡´ ê°ì²´ë¥¼ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤.
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì„¤ì •ì— ì˜ì¡´ ê°ì²´ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ìŠ¤í”„ë§ í•„ìš”í•œ ì˜ì¡´ ë¹ˆ ê°ì²´ë¥¼ ì°¾ì•„ì„œ ì£¼ì…í•´ì¤€ë‹¤.

#### @Autowired ì‚¬ìš© ì „(@Beanìƒì„±í•´ì£¼ëŠ” í´ë˜ìŠ¤ íŒŒì¼)
```java
@Bean
public MemberDao memberDao() {//ìƒì„±ì ì£¼ì… ë°©ë²•
    return new MemberDao();
        }
@Bean
public ChangePasswordService changePwdSvc() {//setter ë©”ì†Œë“œ ì£¼ì… ë°©ë²•
    ChangePasswordSerivce pwdSvc = new ChangePasswordSerivce();
    pwdSvc.setMemberDao(memberDao());
    return pwdSvc;
        }
```
- pwdSvc.setMemberDao(memberDao()); ë¥¼ ì´ìš©í•˜ì—¬ ë¹ˆê°ì²´ ì£¼ì…
- ChangePasswordService ê°ì²´ì˜ setMemberDaoë¡œ MemberDao ë¹ˆ ê°ì²´ë¥¼ ì£¼ì…í•˜ê³ ìˆë‹¤.

#### @Autowired ì‚¬ìš© í›„(@Beanìƒì„±í•´ì£¼ëŠ” í´ë˜ìŠ¤ íŒŒì¼)
```java
@Bean
public MemberDao memberDao() {//ìƒì„±ì ì£¼ì… ë°©ë²•
    return new MemberDao();
        }
@Bean
public ChangePasswordService changePwdSvc() {//setter ë©”ì†Œë“œ ì£¼ì… ë°©ë²•
    ChangePasswordSerivce pwdSvc = new ChangePasswordSerivce();
    return pwdSvc;
        }
```
- @Autowiredë¥¼ ì´ìš©í•´ì„œ ìë™ìœ¼ë¡œ í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì…í•´ì£¼ê¸° ë•Œë¬¸ì— ë¹ˆ ê°ì²´ë¥¼ ì£¼ì…í•˜ì§€ ì•ŠëŠ”ë‹¤.

#### ì˜ì¡´ì„ ì£¼ì…í•  ëŒ€ìƒì— @Autowired ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤.
```java
package spring;

import org.springframework.beans.factory.annotation.Autowired;

public class ChangePasswordService {

	@Autowired
	private MemberDao memberDao;

	public void changePassword(String email, String oldPwd, String newPwd) {
		Member member = memberDao.selectByEmail(email);
		if (member == null)
			throw new MemberNotFoundException();

		member.changePassword(oldPwd, newPwd);

		memberDao.update(member);
	}

	public void setMemberDao(MemberDao memberDao) {
		this.memberDao = memberDao;
	}

}
```
- ChangePasswordService í´ë˜ìŠ¤ì—ì„œ MemberDao ê°ì²´ì— @Autowired ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í–ˆë‹¤.
- setMemberDao() ë©”ì„œë“œë¥¼ __ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„__ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ @Autowiredê°€ ë¶™ì€ í•„ë“œì— í•´ë‹¹ íƒ€ì…ì˜ ë¹ˆê°ì²´ë¥¼ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤.
- @Autowired ì• ë…¸í…Œì´ì…˜ì„ í•„ë“œë‚˜ ì„¸í„° ë©”ì„œë“œì— ë¶™ì´ë©´ ìŠ¤í”„ë§ì€ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ë¹ˆ ê°ì²´ë¥¼ ì°¾ì•„ ì£¼ì…í•œë‹¤.

#### ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ ì—†ëŠ” ê²½ìš°
> ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìë™ ì£¼ì…ì„ í•˜ë ¤ë©´ í•´ë‹¹ íƒ€ì…ì„ ê°€ì§„ ë¹ˆì´ ì–´ë–¤ ë¹ˆì¸ì§€ ì •í™•í•˜ê²Œ í•œì •í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
> ì£¼ì…í•  íƒ€ì…ì˜ ë¹ˆì´ 2ê°œì´ê±°ë‚˜ ì—†ëŠ” ê²½ìš° ìŠ¤í”„ë§ì€ ìë™ ì£¼ì…ì— ì‹¤íŒ¨í•˜ê³  ìµì…‰ì…˜ì„ ë°œìƒ ì‹œí‚¨ë‹¤.

### @Qualifier ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì˜ì¡´ ê°ì²´ ì„ íƒ
> ìë™ ì£¼ì… ê°€ëŠ¥í•œ ë¹ˆì´ 2ê°œ ì´ìƒì´ë©´ @Qualifier ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ìë™ ì£¼ì… ëŒ€ìƒ ë¹ˆì„ í•œì •í•œë‹¤.

#### @Qualifier ì• ë…¸í…Œì´ì…˜ ì‚¬ìš© ë°©ë²• 1ë²ˆì§¸ ìœ„ì¹˜
````java
	@Bean
	@Qualifier("printer")
	public MemberPrinter memberPrinter1() {
		return new MemberPrinter();
	}
	
	@Bean
	@Qualifier("summaryPrinter")
	public MemberSummaryPrinter memberPrinter2() {
		return new MemberSummaryPrinter();
	}
````
- @Beanì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ ë¹ˆ ì„¤ì • ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•œ ì˜ˆì‹œì´ë‹¤.
- ê°€ì¥ ìœ„ì˜ printerê°’ì„ ê°–ëŠ” @Qualifier ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ í•´ë‹¹ ë¹ˆì˜ í•œì • ê°’ì„ "printer"ë¡œ ì§€ì •í•œë‹¤.
- ì´ë ‡ê²Œ ì§€ì •í•œ í•œì • ê°’ì€ @Autowired ì• ë…¸í…Œì´ì…˜ì—ì„œ ìë™ ì£¼ì…í•  ë¹ˆì„ í•œì •í•  ë•Œ ì‚¬ìš©í•œë‹¤.

#### @Qualifier ì• ë…¸í…Œì´ì…˜ ì‚¬ìš© ë°©ë²• 2ë²ˆì§¸ ìœ„ì¹˜
```java
@Autowired
@Qualifier("printer")
public void setMemberPrinter(MemberPrinter printer) {
    this.printer = printer;
        }
```
- setMemberPrinter() ë©”ì„œë“œì— @Autowired ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì˜€ìœ¼ë¯€ë¡œ MemberPrinter íƒ€ì…ì˜ ë¹ˆì„ ìë™ ì£¼ì…í•œë‹¤.
- ì´ì œ í•´ë‹¹ ë¹ˆì´ ìë™ ì£¼ì…í• ë•Œ @Bean ê°ì²´ì¤‘ "printer"ë¼ê³  í•œì •ëœ MemberPrinter íƒ€ì…ì˜ (memberPrinter1)ì„ ìë™ ì£¼ì… ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.


####  ë¹ˆ ì´ë¦„ê³¼ ê¸°ë³¸ í•œì •ì
```java
	@Bean
	public MemberPrinter printer1() {
		return new MemberPrinter();
	}
	
	@Bean
	@Qualifier("mprinter")
	public MemberPrinter printer2() {
		return new MemberPrinter();
	}

    @Bean
    public MemberInfoPrinter2 infoPrinter() {
            MemberInfoPrinter2 infoPrinter = new MemberInfoPrinter2();
            return infoPrinter;
            }
```
- printer()ë©”ì„œë“œë¡œ ì •ì˜í•œ ë¹ˆì˜ í•œì •ìëŠ” ë¹ˆ ì´ë¦„ì¸ "printer"ê°€ ëœë‹¤.
- printer2()ë©”ì„œë“œëŠ” "mprinter"ê°€ í•œì •ìê°€ ëœë‹¤.
- @Autowired ì• ë…¸í…Œì´ì…˜ë„ @Qualifier ì• ë…¸í…Œì´ì…˜ì´ ì—†ìœ¼ë©´ í•„ë“œë‚˜ íŒŒë¼ë¯¸í„° ì´ë¦„ì„ í•œì •ìë¡œë¥¼ ì‚¬ìš©í•œë‹¤.
- ì˜ˆë¥¼ ë“¤ë©´ printer í•„ë“œì— ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ 2ê°œ ì´ìƒ ì¡´ì¬í•˜ë©´ í•œì •ìë¡œ í•„ë“œ ì´ë¦„ì¸ "printer"ë¥¼ ì‚¬ìš©í•œë‹¤.

### ìƒìœ„/í•˜ìœ„ íƒ€ì… ê´€ê³„ì™€ ìë™ ì£¼ì…
```java
package spring;

public class MemberSummaryPrinter extends MemberPrinter {

	@Override
	public void print(Member member) {
		System.out.printf(
				"íšŒì› ì •ë³´: ì´ë©”ì¼=%s, ì´ë¦„=%s\n", 
				member.getEmail(), member.getName());
	}

}
```
ìœ„ í´ë˜ìŠ¤ëŠ” MemberPrinter í´ë˜ìŠ¤ë¥¼ ìƒì†í•œ MemberSummaryPrinterí´ë˜ìŠ¤ì´ë‹¤.

AppCtxí´ë˜ìŠ¤ ì„¤ì •ì—ì„œ memberPrinter2() ë©”ì„œë“œê°€ MemberSummaryPrinter íƒ€ì…ì˜ ë¹ˆ ê°ì²´ë¥¼ ì„¤ì •í•˜ë„ë¡ ë³€ê²½í•˜ì.
```java
	@Bean
	public MemberPrinter memberPrinter1() {
		return new MemberPrinter();
	}
	
	@Bean
	public MemberSummaryPrinter memberPrinter2() {
		return new MemberSummaryPrinter();
	}
```
- memberPrinter2()ë©”ì„œë“œë¥¼ MemberSummaryPrinterê°€ MemberPrinterí´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê¸° ë•Œë¬¸ì— ìœ„ì²˜ëŸ¼ ë³€ê²½í•´ì¤„ ìˆ˜ ìˆë‹¤.
- í•˜ì§€ë§Œ, MemberPrinteríƒ€ì… ë¹ˆ 2ê°œì— __@Qualifier ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì´ì§€ ì•Šì•˜ì„ ë•Œì™€ ë™ì¼í•œ ìµì…‰ì…˜ì´ ë°œìƒí•œë‹¤.__
- memberPrinter2 ë¹ˆì„ MemberSummaryPrinter íƒ€ì…ìœ¼ë¡œ ë³€ê²½í–ˆìŒì—ë„ ì¤‘ë³µë˜ëŠ” Beanì„ ì°¾ì§€ëª»í•˜ëŠ” ì—ëŸ¬ê°€ ë°œê²¬ë˜ëŠ” ì´ìœ ëŠ”
- MemberSummaryPrinter í´ë˜ìŠ¤ê°€ MemberPrinter í´ë˜ìŠ¤ë¥¼ ìƒì†í–ˆê¸° ë•Œë¬¸ì´ë‹¤. 
- __MemberSummaryPrinter í´ë˜ìŠ¤ëŠ” MemberPrinter íƒ€ì…ì—ë„ í• ë‹¹í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” MemberPrinter íƒ€ì… ë¹ˆì„ ìë™ ì£¼ì…í•´ì•¼ í•˜ëŠ” @Autowired ì• ë…¸í…Œì´ì…˜ íƒœê·¸ë¥¼ ë§Œë‚˜ë©´ memberPrinter1 ë¹ˆê³¼ memberPrinter2 íƒ€ì…ì˜ ë¹ˆ ì¤‘ì—ì„œ ì–´ë–¤ ë¹ˆì„ ì£¼ì…í•´ì•¼í•˜ëŠ”ì§€ ì•Œìˆ˜ì—†ë‹¤.__

#### MemberListPrinter í´ë˜ìŠ¤ì™€ MemberInfoPrinter í´ë˜ìŠ¤ê°€ MemberPrinter íƒ€ì…ì˜ ë¹ˆì„ ìë™ ì£¼ì…í•˜ë¯€ë¡œ ì–´ë–¤ ë¹ˆì„ ì£¼ì…í• ì§€ ê²°ì •í•˜ëŠ” 2ê°€ì§€ ë°©ë²•
> ìš°ì„  AppCtx ì„¤ì • íŒŒì¼ì— @Qualifier ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ ì£¼ì…í•  ë¹ˆì„ í•œì •í•œë‹¤.
```java
package config;

import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import spring.MemberPrinter;

@Configuration
public class AppCtx {
    
    @Bean
    @Qualifier("printer")
    public MemberPrinter memberPrinter1() {
        return new MemberPrinter();
    }
}

package spring;

        import org.springframework.beans.factory.annotation.Autowired;
        import org.springframework.beans.factory.annotation.Qualifier;

public class MemberInfoPrinter {

    private MemberDao memDao;
    private MemberPrinter printer;

    public void printMemberInfo(String email) {
        Member member = memDao.selectByEmail(email);
        if (member == null) {
            System.out.println("ë°ì´í„° ì—†ìŒ\n");
            return;
        }
        printer.print(member);
        System.out.println();
    }

    @Autowired
    public void setMemberDao(MemberDao memberDao) {
        this.memDao = memberDao;
    }

    @Autowired
    @Qualifier("printer")
    public void setPrinter(MemberPrinter printer) {
        this.printer = printer;
    }
}
```
- MemberInfoPrinter í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” MemberPrinter ë¹ˆ ê°ì²´ë¥¼ í•œì •í•´ì£¼ê³ , í•œì •ìë¥¼ ì´ìš©í•´ì„œ ìë™ ì£¼ì…í•´ì¤€ë‹¤.

> MemberListPrinter í´ë˜ìŠ¤ì— ìë™ ì£¼ì…í•  MemberPrinter íƒ€ì… ë¹ˆ ì£¼ì…í•˜ëŠ” ë°©ë²• 1
```java
	@Bean
	@Qualifier("summaryPrinter")
	public MemberSummaryPrinter memberPrinter2() {
		return new MemberSummaryPrinter();
	}

public class MemberListPrinter {

    private MemberDao memberDao;
    private MemberPrinter printer;

    public MemberListPrinter() {
    }

    ...

    @Autowired
    @Qulifier("summaryPrinter")
    public void setMemberPrinter(MemberPrinter printer) {//ì´ë¶€ë¶„ì´ ë‹¤ë¥´ë‹¤.
        this.printer = printer;
    }
}
```
- ì²«ë²ˆì§¸ ìœ„ì˜ ë°©ë²•ì²˜ëŸ¼ í•œì •ìë¥¼ ì´ìš©í•´ì„œ ìë™ ì£¼ì…ì„ ì—°ê²° í•´ì¤„ ìˆ˜ ìˆë‹¤.

> MemberListPrinter í´ë˜ìŠ¤ì— ìë™ ì£¼ì…í•  MemberPrinter íƒ€ì… ë¹ˆ ì£¼ì…í•˜ëŠ” ë°©ë²• 2
```java
public class MemberListPrinter {

    private MemberDao memberDao;
    private MemberPrinter printer;

    public MemberListPrinter() {
    }

    ...

    @Autowired
    public void setMemberPrinter(MemberSummaryPrinter printer) {//ì´ ë¶€ë¶„ì— ìƒì† ë°›ëŠ” MemberSummaryPrinter í´ë˜ìŠ¤ ì‚¬ìš©
        this.printer = printer;
    }
}
```
- MemberSummaryPrinter íƒ€ì… ë¹ˆì€ í•œ ê°œë§Œ ì¡´ì¬í•˜ë¯€ë¡œ MemberSummaryPrinter ë¹ˆì„ ìë™ ì£¼ì… ë°›ë„ë¡ ìˆ˜ì •í•œë‹¤.
- ìë™ ì£¼ì… ëŒ€ìƒì´ ë‘ê°œ ì´ìƒì´ì–´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œ í”¼í•  ìˆ˜ ìˆë‹¤.
- MemberSummaryPrinter í´ë˜ìŠ¤ëŠ” MemberPrinter í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### @Autowired ì• ë…¸í…Œì´ì…˜ì˜ í•„ìˆ˜ ì—¬ë¶€
```java
public class MemberPrinter {
    private DateTimeFormatter dateTimeFormatter;

    public MemberPrinter() {
        dateTimeFormatter = DateTimeFormatter.ofPattern("yyyyë…„ MMì›” ddì¼");
    }

    public void print(Member member) {
        if (dateTimeFormatter == null) {
            System.out.printf(
                    "íšŒì› ì •ë³´: ì•„ì´ë””=%d, ì´ë©”ì¼=%s, ì´ë¦„=%s, ë“±ë¡ì¼=%tF\n",
                    member.getId(), member.getEmail(),
                    member.getName(), member.getRegisterDateTime());
        } else {
            System.out.printf(
                    "íšŒì› ì •ë³´: ì•„ì´ë””=%d, ì´ë©”ì¼=%s, ì´ë¦„=%s, ë“±ë¡ì¼=%s\n",
                    member.getId(), member.getEmail(),
                    member.getName(),
                    dateTimeFormatter.format(member.getRegisterDateTime()));
        }
    }
// ë¹ˆê°ì²´ê°€ ì—†ëŠ” ê²½ìš° ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
    @Autowired
    public void setDateFormatter(DateTimeFormatter dateTimeFormatter) {
        this.dateTimeFormatter = dateTimeFormatter;
    }
}
```
 - dateTimeFormatter í•„ë“œê°€ nullì´ë©´ ë‚ ì§œ í˜•ì‹ì„ %tFë¡œ ì¶œë ¥í•˜ê³  ì´ í•„ë“œê°€ nullì´ ì•„ë‹ˆë©´ dateTimeFormatterë¥¼ ì´ìš©í•´ì„œ ë‚ ì§œí˜•ì‹ì„ ë§ì¶”ëŠ” print()ë©”ì„œë“œë‹¤.
 - print() ë©”ì„œë“œëŠ” dateTimeFormatterê°€ nullì¸ ê²½ìš°ì—ë„ ì•Œë§ê²Œ ë™ì‘í•œë‹¤.
 - ë°˜ë“œì‹œ setDateFormatter()ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê°ì²´ë¥¼ ì£¼ì…í•  í•„ìš”ëŠ” ì—†ë‹¤.
 - setDateFormatter()ì— ì£¼ì…í•  ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ MemberPrinterê°€ ë™ì‘í•˜ëŠ”ë°ëŠ” ë¬¸ì œê°€ ì—†ë‹¤.
 - __í•˜ì§€ë§Œ__ @Autowired ì• ë…¸í…Œì´ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ @Autowired ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ íƒ€ì…ì— í•´ë‹¹í•˜ëŠ” ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìµì…‰ì…˜ì„ ë°œìƒí•œë‹¤.
 - ë”°ë¼ì„œ setDateFormatter() ë©”ì„œë“œì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” DateTimeFormatter íƒ€ì…ì˜ ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìµì…‰ì…˜ì´ ë°œìƒí•œë‹¤.
 - __MemberPrinterëŠ” setDateFormatter()ë©”ì„œë“œì— ìë™ ì£¼ì…í•  ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´__ ìµì…‰ì…˜ì´ ë°œìƒí•˜ê¸° ë³´ë‹¤ëŠ” ê·¸ëƒ¥ dateTimeFormatter í•„ë“œê°€ nullì´ë©´ ëœë‹¤.

#### ğŸ”½ ìë™ ì£¼ì…í•  ëŒ€ìƒì´ í•„ìˆ˜ê°€ ì•„ë‹Œê²½ìš°ì˜ ì†ì„±ê°’! 1
```java
//ì²«ë²ˆì§¸ ë°©ë²•
public class MemberPrinter {
    ...//í•„ë“œ
    @Autowired(required = false)
    public void setDateFormatter(DateTimeFormatter dateTimeFormatter) {
        this.dateTimeFormatter = dateTimeFormatter;
    }
}
```

```java
//ì²«ë²ˆì§¸ ë°©ë²• í•„ë“œì—ì„œ
public class MemberPrinter {
    @Autowired(required=false)
    private DateTimeformatter dateTimeFormatter;
    
    public void print(Member member) {
        ...
    }
}
```
 - ì£¼ì…í•  ëŒ€ìƒì´ í•„ìˆ˜ê°€ ì•„ë‹Œ ê²½ìš°ì—ëŠ” requiredì†ì„±ì„ falseë¡œ í•œë‹¤.
 - ì´ë ‡ê²Œ í•˜ë©´ ë§¤ì¹­ë˜ëŠ” ë¹ˆì´ ì—†ì–´ë„ ìµì…‰ì…˜ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©° ìë™ ì£¼ì…ì„ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
 - ìœ„ì˜ ì˜ˆì‹œëŠ” DateTimeFormatter ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì£¼ì…ì„ í•˜ì§€ì•Šê³ , setDateFormmatter ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

####  ğŸ”½ ìŠ¤í”„ë§ 5ë²„ì „ ë¶€í„°ì˜ ìë™ ì£¼ì…í•  ëŒ€ìƒì´ í•„ìˆ˜ê°€ ì•„ë‹Œê²½ìš°ì˜ ì†ì„± ì²˜ë¦¬ 2 âœ…
```java
//ë‘ë²ˆì§¸ ë°©ë²•
public class MemberPrinter {
    ...//í•„ë“œ
    @Autowired
    public void setDateFormatter(Optional<DateTimeFormatter> formatterOpt) {
        if (formatterOpt.isPresent()) {
            this.dateTimeFormatter = formatterOpt.get();
        } else {
            this.dateTimeFormatter = null;
        }
    }   
}
``` 
```java
//ë‘ë²ˆì§¸ ë°©ë²• í•„ë“œì—ì„œ
public class MemberPrinter {
    @Autowired
    private Optional<DateTimeformatter> formatterOpt;
    
    public void print(Member member) {
        DateTimeFormatter dateTimeFormatter = formatterOpt.orElse(null);
        if(dateTimeFormatter == null) {
            ...
        } else {
            ...//ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì •ìƒì ì¼ ê²ƒ
        }
    }
}
```
 - ìë°” 8ì˜ Optionalì„ ì‚¬ìš©í•œë‹¤.
 - ìë™ ì£¼ì… ëŒ€ìƒ íƒ€ì…ì´ Optionalì¸ ê²½ìš°, ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ê°’ì´ ì—†ëŠ” Optionalì„ ì¸ìë¡œ ì „ë‹¬í•˜ê³  __(ìµì…‰ì…˜ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.)__
 - "formatterOpt.isPresent()"ë¥¼ ì´ìš©í•´ì„œ trueì´ë©´ ê°’ì´ ì¡´ì¬í•˜ë¯€ë¡œ dateTimeFormatterë¥¼ í•„ë“œì— í• ë‹¹í•œë‹¤.
 - ì¦‰, DateTimeFormatter íƒ€ì… ë¹ˆì„ ì£¼ì… ë°›ì•„ dateTimeFormatterí•„ë“œì— í• ë‹¹í•œë‹¤.
 - ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì£¼ì… ë°›ì€ ë¹ˆ ê°ì²´ê°€ ì—†ìœ¼ë¯€ë¡œ dateTimeFormatter í•„ë“œì— nullì„ í• ë‹¹í•œë‹¤.

#### ğŸ”½ @Nullable ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ë°©ë²• 3

```java
//ì„¸ë²ˆì§¸ ë°©ë²•
public class MemberPrinter {
    ...//í•„ë“œ
    @Autowired
    public void setDateFormatter(@Nullable DateTimeFormatter dateTimeFormatter) {
        this.dateTimeFormatter = dateTimeFormatter;
    }
}
```
```java
//ì„¸ë²ˆì§¸ ë°©ë²• í•„ë“œì—ì„œ
public class MemberPrinter {
    @Autowired
    @Nullable
    private DateTimeformatter dateTimeFormatter;

    public void print(Member member) {
        ...
    }
}
```
- @Nullable ì• ë…¸í…Œì´ì…˜ì„ ì˜ì¡´ ì£¼ì… ëŒ€ìƒ íŒŒë¼ë¯¸í„°ì— ë¶™ì´ë©´, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì„¸í„° ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ìë™ ì£¼ì…í•  ë¹ˆì´ ì¡´ì¬í•˜ë©´ í•´ë‹¹ ë¹ˆì„ ì¸ìë¡œ ì „ë‹¬í•˜ê³ ,
- ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì¸ìë¡œ nullì„ ì „ë‹¬í•œë‹¤.

#### âœ… @Nullable vs @Autowired
 - @Nullable ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ìë™ ì£¼ì…í•  ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
 - @Autowired ì• ë…¸í…Œì´ì…˜ì˜ ê²½ìš° required ì†ì„±ì´ falseì¸ë° ì£¼ì…í•  ëŒ€ìƒì˜ ë¹ˆì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì„¸í„° ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.
 
#### ìƒì„±ì ì´ˆê¸°í™”ì™€ í•„ìˆ˜ ì—¬ë¶€ ì§€ì • ë°©ì‹ ë™ì‘ ì´í•´
>  @Nullable ê³¼ @Autowired(required = false) ì˜ ì°¨ì´ì 
 - ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ ì—†ìœ¼ë©´ ê°’ í• ë‹¹ ìì²´ë¥¼ í•˜ì§€ì•ŠëŠ” @Autowired(required=false)
 - @Nullable ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ ì—†ì„ ë•Œ nullê°’ì„ í• ë‹¹í•œë‹¤.
 - Optional íƒ€ì…ì€ ë§¤ì¹­ ë˜ëŠ” ë¹ˆì´ ì—†ìœ¼ë©´ ê°’ì´ ì—†ëŠ” Optionalì„ í• ë‹¹í•œë‹¤.
 - âœ… __ê¸°ë³¸ ìƒì„±ìì—ì„œ ìë™ ì£¼ì… ëŒ€ìƒì´ ì™¸ëŠ” í•„ë“œë¥¼ ì´ˆê¸°í™”í•  ë•ŒëŠ” ì´ ì ì— ìœ ì˜í•´ì•¼í•œë‹¤.__

```java
public class MemberPrinter {
	private DateTimeFormatter dateTimeFormatter;
	
	public MemberPrinter() {//ìƒì„±ìì—ì„œ í•„ë“œê°’ì„ ì´ˆê¸°í™” í•´ì¤€ë‹¤.
		dateTimeFormatter = DateTimeFormatter.ofPattern("yyyyë…„ MMì›” ddì¼");
	}
	
	public void print(Member member) {
		if (dateTimeFormatter == null) {
			System.out.printf(
					"íšŒì› ì •ë³´: ì•„ì´ë””=%d, ì´ë©”ì¼=%s, ì´ë¦„=%s, ë“±ë¡ì¼=%tF\n", 
					member.getId(), member.getEmail(),
					member.getName(), member.getRegisterDateTime());
		} else {
			System.out.printf(
					"íšŒì› ì •ë³´: ì•„ì´ë””=%d, ì´ë©”ì¼=%s, ì´ë¦„=%s, ë“±ë¡ì¼=%s\n", 
					member.getId(), member.getEmail(),
					member.getName(), 
					dateTimeFormatter.format(member.getRegisterDateTime()));
		}
	}
	
	@Autowired(required = false)
	public void setDateFormatter(DateTimeFormatter dateTimeFormatter) {
		this.dateTimeFormatter = dateTimeFormatter;
	}
    // ì¶œë ¥ : 2018ë…„ 01ì›” 02ì¼ nullê°’ ì „ë‹¬ X

	@Autowired
	public void setDateFormatter(Optional<DateTimeFormatter> formatterOpt) {
		if (formatterOpt.isPresent()) {
			this.dateTimeFormatter = formatterOpt.get();
		} else {
			this.dateTimeFormatter = null;
		}
	}
	
	@Autowired
	public void setDateFormatter(@Nullable DateTimeFormatter dateTimeFormatter) {
		this.dateTimeFormatter = dateTimeFormatter;
	}
	// ì¶œë ¥ : 2018-01-02 nullê°’ ì „ë‹¬ O
}
```
- @Autowired(required = false)ì¸ ê²½ìš°ëŠ” ë¹ˆì´ ì¡´ì¬í•˜ì§€ì•Šì„ ë•Œ __í•„ë“œë‚˜ ë©”ì„œë“œì— nullê°’ì„ ì „ë‹¬í•˜ì§€ ì•ŠëŠ”ë‹¤.__
- ê·¸ë˜ì„œ ê¸°ë³¸ ìƒì„±ìì—ì„œ ì´ˆê¸°í™”í•œ DateTimeFormatterì˜ í˜•ì‹ìœ¼ë¡œ ë‚ ì§œë¥¼ ì¶œë ¥í•œë‹¤.
- âœ… __í•˜ì§€ë§Œ__ @Nullableì¸ ê²½ìš°ëŠ” __í•„ë“œë‚˜ ë©”ì„œë“œì— nullê°’ì„ ì „ë‹¬í•¨ìœ¼ë¡œ__ ìƒì„±ìì—ì„œ dateTimeFormatterë¥¼ ì´ˆê¸°í™” í•´ë„ setDateFormatter() ë©”ì„œë“œê°€ nullì„ ì „ë‹¬ë°›ì•„ dateTimeFormatter í•„ë“œê°€ ë‹¤ì‹œ nullë¡œ ë°”ë€ë‹¤.

### ìë™ ì£¼ì…ê³¼ ëª…ì‹œì  ì˜ì¡´ ì£¼ì… ê°„ì˜ ê´€ê³„
> ì„¤ì • í´ë˜ìŠ¤ì—ì„œ ì˜ì¡´ì„ ì£¼ì…í–ˆëŠ”ë° ìë™ ì£¼ì…ì´ ëŒ€ìƒì´ë¼ë©´?

#### AppCtx ì„¤ì • í´ë˜ìŠ¤ì˜ infoPrinter() ë©”ì„œë“œ ì˜ˆì‹œ
```java
@Configuration
public class AppCtx {

    ...
	
	@Bean
	@Qualifier("printer")
	public MemberPrinter memberPrinter1() {
		return new MemberPrinter();
	}
	
	@Bean
	@Qualifier("summaryPrinter")
	public MemberSummaryPrinter memberPrinter2() {
		return new MemberSummaryPrinter();
	}
	
	@Bean
	public MemberListPrinter listPrinter() {
		return new MemberListPrinter();
	}
	
	@Bean
	public MemberInfoPrinter infoPrinter() {
		MemberInfoPrinter infoPrinter = new MemberInfoPrinter();
        //memberPrinter2 ë¹ˆì„ ì£¼ì…
        infoPrinter.setPrinter(memberPrinter2());
		return infoPrinter;
	}
    ...
}
```
 - infoPrinter.setPrinter(memberPrinter2()) ì½”ë“œë¥¼ í†µí•´ì„œ memberPrinter2 ë¹ˆì„ ì£¼ì…í•˜ê³  ìˆë‹¤.
 - memberPrinter2 ë¹ˆì€ MemberSummaryPrinter ê°ì²´ì´ë¯€ë¡œ ì´ë©”ì¼ê³¼ ì´ë¦„ë§Œ ì¶œë ¥í•œë‹¤.
 - __í•˜ì§€ë§Œ__ íšŒì› ì „ì²´ì˜ ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤. memberPrinter1 ë¹ˆì„ ì‚¬ìš©í•´ì„œ íšŒì› ì •ë³´ë¥¼ ì¶œë ¥í•œ ê²ƒì´ë‹¤.
#### í•´ë‹¹ ì„¸í„° ë©”ì„œë“œì˜ í•œì •ìì™€ ìë™ ì£¼ì… ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ì„œ ì•Œì•„ì„œ ë¹ˆì„ ì°¾ì•„ì£¼ëŠ” ì˜ˆì‹œ
```java
public class MemberInfoPrinter {
    ...
    
    @Autowired
    @Qualifier("printer")
    public void setPrinter(MemberPrinter printer) {
        this.printer = printer;
    }
}
```
 - __ì¦‰__ AppCtx(ì„¤ì •í´ë˜ìŠ¤) í´ë˜ìŠ¤ì—ì„œ ì„¸í„° ë©”ì„œë“œë¥¼ í†µí•´ ì˜ì¡´ì„ ì£¼ì…í•´ë„ í•´ë‹¹ ì„¸í„° ë©”ì„œë“œì— @Autowired ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì–´ ìˆìœ¼ë©´ ìë™ ì£¼ì…ì„ í†µí•´ì„œ ì¼ì¹˜í•˜ëŠ” ë¹ˆì„ ì£¼ì…í•œë‹¤.
 - __ë”°ë¼ì„œ__ @Autowired ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í–ˆë‹¤ë©´, AppCtx(ì„¤ì •í´ë˜ìŠ¤) í´ë˜ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ì£¼ì…í•˜ê¸° ë³´ë‹¤ëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ìë™ ì£¼ì… ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” í¸ì´ ë‚«ë‹¤.

> ì˜ì¡´ ìë™ì£¼ì…ê³¼ ìˆ˜ë™ì£¼ì…ì„ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤. 
> ìë™ ì£¼ì…ì„ ì‚¬ìš©í•œë‹¤ë©´ ì¼ê´€ì„±ìˆê²Œ ì§€ì†ì ìœ¼ë¡œ @Autowiredë¥¼ ì´ìš©í•œ ìë™ ì£¼ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.