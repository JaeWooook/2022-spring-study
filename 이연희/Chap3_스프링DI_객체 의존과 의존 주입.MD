Chap3 Dependency Injection
==========================
## â— Dependency(ì˜ì¡´) ìƒíƒœ
------
#### ì´ë©”ì¼ë¡œ íšŒì›ê°€ì…ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œì§
```java
public class MemberRegisterService{
	//ì˜ì¡´ ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±
	private MemberDao memberDao = new MemberDao();
    
    public void regist(RegisterRequest req){
    	Member member = memberDao.selectByEmail(req.getEmail());
        //ì´ë©”ì¼ì´ DBì— ì´ë¯¸ ì¡´ì¬í•  ë•Œ ì˜ˆì™¸ ì²˜ë¦¬
        if (member!=null){
        	throw new DuplicateMemberException("duplicated email "+req.getEmail());
		}
        //ì‹ ê·œ ê°€ì…ì´ ê°€ëŠ¥í•  ë•Œ DBì— insert()
        Member newMember=new Member(
        	req.getEmail(), req.getPassword(), req.getName(), LocalDateTime.now()
        );
        memberDao.insert(newMember);
    }
}
```
í•œ í´ë˜ìŠ¤(MemberRegisterService)ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤(MemberDao)ì˜ ë©”ì„œë“œ(selectByEmail(), insert())ë¥¼ ì‹¤í–‰í•  ë•Œ ì´ë¥¼ **Dependency(ì˜ì¡´)** í•œë‹¤ê³  í‘œí˜„í•œë‹¤.

__"MemberRegisterService í´ë˜ìŠ¤ê°€ MemberDao í´ë˜ìŠ¤ì— ì˜ì¡´í•œë‹¤."__


~~~java
//ì˜ì¡´í•˜ëŠ” MemberDao ê°ì²´ë„ í•¨ê»˜ ìƒì„±
MemberRegisterService svc = new MemberRegisterService();
~~~
ì˜ì¡´ ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±(new MemberDao())í–ˆê¸° ë•Œë¬¸ì— MemberRegisterService ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ìˆœê°„ MemberDao ê°ì²´ë„ í•¨ê»˜ ìƒì„±ëœë‹¤.

  

## â— Dependency Injection(ì˜ì¡´ ì£¼ì…)
---------
ğŸ’¡ **Dependency Injectionì€ ì˜ì¡´í•˜ëŠ” ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±í•˜ëŠ” ëŒ€ì‹  ì˜ì¡´ ê°ì²´ë¥¼ ì „ë‹¬ë°›ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.**

#### MemberRegisterService í´ë˜ìŠ¤ì— DI ë°©ì‹ì„ ì ìš©
```java
public class MemberRegisterService{

	private MemberDao memberDao; 
 
    public MemberRegisterService(MemberDao memberDao){
		this.memeberDao=memberDao;
	}
}
```

**ìƒì„±ìë¥¼ í†µí•´ MemberRegisterServiceê°€ ì˜ì¡´(Dependency)í•˜ê³  ìˆëŠ” MemberDao ê°ì²´ë¥¼ ì£¼ì…(Injection) ë°›ì•˜ë‹¤.**

```java
MemberDao dao = new MemberDao();
//ì˜ì¡´ ê°ì²´ë¥¼ ìƒì„±ìë¥¼ í†µí•´ ì£¼ì…í•œë‹¤.
MemberRegisterServcie svc = new MemberRegisterService(dao);
```
MemberRegisterService ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ìƒì„±ìì— MemberDao ê°ì²´ë¥¼ ì „ë‹¬í•´ì•¼ í•œë‹¤.


## â— DIì™€ ì˜ì¡´ ê°ì²´ ë³€ê²½ì˜ ìœ ì—°í•¨
--------
íšŒì› ë°ì´í„°ì˜ ë¹ ë¥¸ ì¡°íšŒë¥¼ ìœ„í•´ ìºì‹œë¥¼ ì ìš©í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆë‹¤ê³  ê°€ì •í•˜ì. MemberDao í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ CachedMemberDao í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
```java
public class CachedMemberDao extends MemberDao{
	...
}
``` 
#### ê°ì²´ ì§ì ‘ ìƒì„±ì‹œ ë³€ê²½ ì‚¬í•­
```java 
//ë³€ê²½ì „
public class MemberRegisterService{
	private MemberDao memberDao = new MemberDao();
}

//ë³€ê²½í›„
public class MemberRegisterService{
	private MemberDao memberDao = new ChachedMemberDao();
}
```

#### DI ì‚¬ìš©ì‹œ ë³€ê²½ ì‚¬í•­
```java 
//ë³€ê²½ì „
MemberDao memberDao = new MemberDao();
MemberRegisterService regSvc = new MeberRegisterService(MemberDao);

//ë³€ê²½í›„
MemberDao memberDao = new CachedMemberDao();
MemberRegisterService regSvc = new MeberRegisterService(MemberDao);
```
ğŸ’¡ **DIë¥¼ ì‚¬ìš©í•˜ë©´ MemberDao ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ê°œì—¬ë„ ë³€ê²½í•  ê³³ì€ ì˜ì¡´ ì£¼ì… ëŒ€ìƒì´ ë˜ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ í•œ ê³³ ë¿ì´ë‹¤.**